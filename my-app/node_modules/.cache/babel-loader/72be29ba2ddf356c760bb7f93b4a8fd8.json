{"ast":null,"code":"import _classCallCheck from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport SideBar from './components/sidebar.js';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Home from './components/Home';\nimport About from './components/About';\nimport TopMusic from './components/TopMusic';\nimport TopNews from './components/TopNews';\nimport TopFood from './components/TopFood';\nimport SavedStuff from './components/SavedStuff';\nimport Login from './components/login';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleSignOut = function () {\n      _this.setState({\n        errorMessage: null\n      }); //clear any old errors\n\n\n      firebase.auth().signOut().catch(function (err) {\n        return _this.setState({\n          errorMessage: err.message\n        });\n      });\n      console.log(_this.state.errorMessage);\n      /* TODO: sign out user here */\n    };\n\n    _this.handleSignUp = function (email, password, handle, avatar) {\n      _this.setState({\n        errorMessage: null\n      }); //clear any old errors\n\n\n      _this.state.handle = handle;\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(function (user) {}).catch(function (err) {\n        _this.setState({\n          errorMessage: err.message\n        });\n      });\n    };\n\n    _this.handleSignIn = function (email, password) {\n      _this.setState({\n        errorMessage: null\n      }); //clear any old errors\n\n\n      firebase.auth().signInWithEmailAndPassword(email, password).catch(function (err) {\n        return _this.setState({\n          errorMessage: err.message\n        });\n      });\n      /* TODO: sign in user here */\n    };\n\n    _this.state = {\n      loading: true\n    };\n    _this.unReg = null;\n    return _this;\n  } //A callback function for logging out the current user\n\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.unReg = firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            user: user\n          });\n        } else {\n          _this2.setState({\n            user: null\n          });\n        }\n\n        _this2.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unReg();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var content = null; //content to render\n\n      if (this.state.loading) {\n        content = React.createElement(\"div\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-spinner fa-spin fa-3x\",\n          \"aria-label\": \"Connecting...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }));\n      } else if (!this.state.user) {\n        //if logged out, show signup form\n        content = React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Login, {\n          signUpCallback: this.handleSignUp,\n          signInCallback: this.handleSignIn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }));\n      } else {\n        //if logged in, show welcome message\n        var user = firebase.auth().currentUser;\n        user.updateProfile({\n          displayName: this.state.handle\n        }).then(function () {// Update successful.\n        }).catch(function (error) {// An error happened.\n        });\n        content = React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(BrowserRouter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pageContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(SideBar, {\n          user: this.state.user,\n          email: this.state.user.email,\n          displayName: this.state.user.displayName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"btn btn-warning\",\n          onClick: this.handleSignOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"LOG OUT \", this.state.user.displayName)), React.createElement(Switch, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/About\",\n          component: About,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/TopMusic\",\n          component: TopMusic,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/TopNews\",\n          component: TopNews,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/TopFood\",\n          component: TopFood,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(Route, {\n          path: \"/SavedStuff\",\n          component: SavedStuff,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        })))));\n      }\n\n      console.log(this.state.errorMessage);\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.errorMessage && React.createElement(\"p\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.errorMessage), content, this.state.errorMessage);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/src/App.js"],"names":["React","Component","SideBar","BrowserRouter","Route","Switch","Home","About","TopMusic","TopNews","TopFood","SavedStuff","Login","firebase","App","props","handleSignOut","setState","errorMessage","auth","signOut","catch","err","message","console","log","state","handleSignUp","email","password","handle","avatar","createUserWithEmailAndPassword","then","user","handleSignIn","signInWithEmailAndPassword","loading","unReg","onAuthStateChanged","content","currentUser","updateProfile","displayName","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport SideBar from './components/sidebar.js';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Home from './components/Home';\nimport About from './components/About';\nimport TopMusic from './components/TopMusic';\nimport TopNews from './components/TopNews';\nimport TopFood from './components/TopFood';\nimport SavedStuff from './components/SavedStuff';\nimport Login from './components/login';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n    this.unReg = null;\n\n  }\n\n  //A callback function for logging out the current user\n  handleSignOut = () => {\n    this.setState({ errorMessage: null }); //clear any old errors\n    firebase.auth().signOut()\n      .catch(err => this.setState({ errorMessage: err.message }));\n    console.log(this.state.errorMessage);\n    /* TODO: sign out user here */\n  }\n\n\n  handleSignUp = (email, password, handle, avatar) => {\n    this.setState({ errorMessage: null }); //clear any old errors\n\n    this.state.handle = handle;\n\n\n    firebase.auth().createUserWithEmailAndPassword(email, password)\n      .then((user) => {\n      })\n      .catch((err) => {\n        this.setState({ errorMessage: err.message });\n      });\n  }\n\n  //A callback function for logging in existing users\n  handleSignIn = (email, password) => {\n    this.setState({ errorMessage: null }); //clear any old errors\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .catch(err => this.setState({ errorMessage: err.message }));\n    /* TODO: sign in user here */\n  }\n\n  componentDidMount() {\n    this.unReg = firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user: user });\n      } else {\n        this.setState({ user: null })\n      }\n      this.setState({ loading: false });\n    });\n  }\n  componentWillUnmount() {\n    this.unReg();\n  }\n\n\n\n  render() {\n    let content = null; //content to render\n    if (this.state.loading) {\n      content = (<div className=\"text-center\">\n        <i className=\"fa fa-spinner fa-spin fa-3x\" aria-label=\"Connecting...\"></i>\n      </div>)\n    } else if (!this.state.user) { //if logged out, show signup form\n      content = (\n        <div className=\"container\">\n          {<Login signUpCallback={this.handleSignUp}\n            signInCallback={this.handleSignIn} />}\n        </div>\n      );\n    }\n    else { //if logged in, show welcome message\n      var user = firebase.auth().currentUser;\n      user.updateProfile({\n        displayName: this.state.handle,\n      }).then(function () {\n        // Update successful.\n      }).catch(function (error) {\n        // An error happened.\n      });\n      content = (\n        <div className=\"App\" >\n\n          < BrowserRouter >\n            <div className=\"pageContainer\">\n\n\n              <SideBar user={this.state.user} email={this.state.user.email} displayName={this.state.user.displayName} >\n                {<li className=\"btn btn-warning\" onClick={this.handleSignOut} >LOG OUT {this.state.user.displayName}</li>}\n              </SideBar>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/About\" component={About} />\n                <Route path=\"/TopMusic\" component={TopMusic} />\n                <Route path=\"/TopNews\" component={TopNews} />\n                <Route path=\"/TopFood\" component={TopFood} />\n                <Route path=\"/SavedStuff\" component={SavedStuff} />\n              </Switch>\n            </div>\n          </BrowserRouter >\n        </div>\n      );\n    }\n\n    console.log(this.state.errorMessage);\n\n    return (\n      <div className=\"App\" >\n        {this.state.errorMessage &&\n          <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\n        }\n        {content}\n\n\n        {this.state.errorMessage}\n      </div >\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
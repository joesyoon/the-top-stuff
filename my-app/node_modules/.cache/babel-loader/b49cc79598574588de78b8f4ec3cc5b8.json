{"ast":null,"code":"import _classCallCheck from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/src/components/TopNews.js\";\nimport React, { Component } from 'react';\nimport \"../TopNews.css\";\nvar authKey = \"0701279aa1ce4d48850426a4a74c7b28\";\nvar queryURLBase = 'https://newsapi.org/v2/top-headlines?' + 'country=us&apiKey=' + authKey;\nvar searchUrl = 'https://newsapi.org/v2/everything?' + 'q={query}&' + 'sortBy=popularity&' + 'apiKey=' + authKey;\n\nvar TopNews =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TopNews, _Component);\n\n  function TopNews(props) {\n    var _this;\n\n    _classCallCheck(this, TopNews);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TopNews).call(this, props));\n    _this.state = {\n      data: [],\n      numArticles: 5,\n      query: ''\n    };\n    _this.handleNumChange = _this.handleNumChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchNews = _this.fetchNews.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleQueryChange = _this.handleQueryChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TopNews, [{\n    key: \"handleNumChange\",\n    value: function handleNumChange(e) {\n      e.preventDefault();\n      var datacopy = this.state.data;\n      var qcopy = this.state.query;\n      this.setState({\n        data: datacopy,\n        numArticles: e.target.value,\n        query: qcopy\n      });\n    }\n  }, {\n    key: \"handleQueryChange\",\n    value: function handleQueryChange(e) {\n      e.preventDefault();\n      var datacopy = this.state.data;\n      var numcopy = this.state.numArticles;\n      this.setState({\n        data: datacopy,\n        numArticles: numcopy,\n        query: e.target.value\n      });\n    }\n  }, {\n    key: \"fetchNews\",\n    value: function fetchNews() {\n      var _this2 = this;\n\n      if (this.state.query == \"\") {\n        fetch(queryURLBase, {\n          method: \"GET\"\n        }).then(function (res) {\n          if (!res.ok) {\n            throw Error(\"error\");\n          }\n\n          return res.json();\n        }).then(function (data) {\n          var numcopy = _this2.state.numArticles;\n          var qcopy = _this2.state.query;\n\n          _this2.setState({\n            data: data.articles,\n            numArticles: numcopy,\n            query: qcopy\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        var tmpQuerySearch = searchUrl.replace(\"{query}\", this.state.query);\n        fetch(tmpQuerySearch, {\n          method: \"GET\"\n        }).then(function (res) {\n          if (!res.ok) {\n            throw Error(\"error\");\n          }\n\n          return res.json();\n        }).then(function (data) {\n          var numcopy = _this2.state.numArticles;\n          var qcopy = _this2.state.query;\n\n          _this2.setState({\n            data: data.articles,\n            numArticles: numcopy,\n            query: qcopy\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n\n      console.log(\"fetchnews\");\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      e.preventDefault();\n      console.log(e.target.id);\n\n      if (e.target.id == \"runQuery\") {\n        this.fetchNews();\n      } else {\n        this.setState({\n          data: []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        \"aria-hidden\": \"true\",\n        className: \"rightContainer\",\n        id: \"top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"images/news.jpg\",\n        alt: \"News text.\",\n        style: {\n          width: '100%',\n          height: '300px',\n          padding: '0px',\n          top: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        \"aria-label\": \"panel to change parameters to filter news\",\n        class: \"panel panel-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"panel-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        class: \"panel-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa  fa-list-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), \"   Search Parameters\"))), React.createElement(\"div\", {\n        class: \"panel-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        role: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        \"aria-label\": \"input search text to get news\",\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Search Term:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"searchTerm\",\n        value: this.state.query,\n        onChange: this.handleQueryChange,\n        placeholder: \"Type a search term or simply hit Get Top News!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        \"aria-label\": \"select number of articles to display\",\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"pwd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Number of Articles to retrieve:\"), React.createElement(\"select\", {\n        class: \"form-control\",\n        id: \"numArticles\",\n        onChange: this.handleNumChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: \"5\",\n        selected: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"5\"), React.createElement(\"option\", {\n        value: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"10\"), React.createElement(\"option\", {\n        value: \"15\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"15\"), React.createElement(\"option\", {\n        value: \"20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"20\"))), React.createElement(\"button\", {\n        \"aria-label\": \"button to get data\",\n        class: \"btn btn-primary\",\n        id: \"runQuery\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Get Top News\"), React.createElement(\"button\", {\n        \"aria-label\": \"button to clear news\",\n        type: \"button\",\n        class: \"btn btn-default\",\n        id: \"clearAll\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), \" Clear Results\")))), React.createElement(Results, {\n        news: this.state.data,\n        numArticles: this.state.numArticles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TopNews;\n}(Component);\n\nexport { TopNews as default };\n{\n  /*The component displays the news in a formatted form. */\n}\n\nvar Results =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Results, _Component2);\n\n  function Results() {\n    _classCallCheck(this, Results);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Results).apply(this, arguments));\n  }\n\n  _createClass(Results, [{\n    key: \"render\",\n    value: function render() {\n      if (typeof this.props.news != \"undefined\") {\n        var response = this.props.news.slice(0, this.props.numArticles);\n        var newsArtics = response.map(function (newsArt, index) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            id: \"article-data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"label label-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, index + 1), React.createElement(\"a\", {\n            href: newsArt.url,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"strong\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, newsArt.title))), React.createElement(\"div\", {\n            className: \"row justify-content-between\",\n            style: {\n              margin: 0\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            \"aria-label\": \"information about news\",\n            className: \"col-sm-8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \" \", newsArt.description), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(\"strong\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, \"Source:\"), \" \", newsArt.source.name), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, newsArt.content)), React.createElement(\"div\", {\n            \"aria-label\": \"image for the news\",\n            className: \"col-sm-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: newsArt.urlToImage,\n            alt: newsArt.title,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          })))));\n        });\n      } else {\n        var newsArtics = [];\n      }\n\n      return React.createElement(\"div\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \" Top News \"), newsArtics);\n    }\n  }]);\n\n  return Results;\n}(Component);","map":{"version":3,"sources":["/Users/kishorevasan/Desktop/github_repos/info340/the-top-stuff/my-app/src/components/TopNews.js"],"names":["React","Component","authKey","queryURLBase","searchUrl","TopNews","props","state","data","numArticles","query","handleNumChange","bind","handleClick","fetchNews","handleQueryChange","e","preventDefault","datacopy","qcopy","setState","target","value","numcopy","fetch","method","then","res","ok","Error","json","articles","catch","error","console","log","tmpQuerySearch","replace","id","width","height","padding","top","Results","news","response","slice","newsArtics","map","newsArt","index","url","title","margin","description","source","name","content","urlToImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"../TopNews.css\"\n\nconst authKey = \"0701279aa1ce4d48850426a4a74c7b28\";\n\nconst queryURLBase = 'https://newsapi.org/v2/top-headlines?' +\n  'country=us&apiKey=' + authKey;\n\nconst searchUrl = 'https://newsapi.org/v2/everything?' +\n  'q={query}&' +\n  'sortBy=popularity&' +\n  'apiKey=' + authKey;\n\nexport default class TopNews extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { data: [], numArticles: 5, query: '' }\n    this.handleNumChange = this.handleNumChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.fetchNews = this.fetchNews.bind(this)\n    this.handleQueryChange = this.handleQueryChange.bind(this)\n  }\n\n  handleNumChange(e) {\n    e.preventDefault();\n    let datacopy = this.state.data;\n    let qcopy = this.state.query;\n    this.setState({ data: datacopy, numArticles: e.target.value, query: qcopy })\n  }\n  handleQueryChange(e) {\n    e.preventDefault();\n    let datacopy = this.state.data;\n    let numcopy = this.state.numArticles;\n    this.setState({ data: datacopy, numArticles: numcopy, query: e.target.value })\n  }\n\n  fetchNews() {\n    if (this.state.query == \"\") {\n      fetch(queryURLBase, {\n        method: \"GET\"\n      }).then(res => {\n        if (!res.ok) {\n          throw Error(\"error\")\n        }\n        return res.json()\n      }).then(data => {\n        let numcopy = this.state.numArticles;\n        let qcopy = this.state.query;\n        this.setState({ data: data.articles, numArticles: numcopy, query: qcopy })\n      }).catch(function (error) {\n        console.log(error)\n      })\n    } else {\n      let tmpQuerySearch = searchUrl.replace(\"{query}\", this.state.query)\n      fetch(tmpQuerySearch, {\n        method: \"GET\"\n      }).then(res => {\n        if (!res.ok) {\n          throw Error(\"error\")\n        }\n        return res.json()\n      }).then(data => {\n        let numcopy = this.state.numArticles;\n        let qcopy = this.state.query;\n        this.setState({ data: data.articles, numArticles: numcopy, query: qcopy })\n      }).catch(function (error) {\n        console.log(error)\n      })\n    }\n    console.log(\"fetchnews\")\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    console.log(e.target.id)\n    if (e.target.id == \"runQuery\") {\n      this.fetchNews();\n    } else {\n      this.setState({ data: [] })\n    }\n  }\n\n  render() {\n    return (\n      <div aria-hidden=\"true\" className=\"rightContainer\" id=\"top\">\n          <img src=\"images/news.jpg\" alt=\"News text.\" style={{ width: '100%', height: '300px', padding: '0px',top:0 }} />\n          <div aria-label=\"panel to change parameters to filter news\" class=\"panel panel-primary\">\n            <div class=\"panel-heading\">\n              <h3 class=\"panel-title\"><strong><i class=\"fa  fa-list-alt\"></i>   Search Parameters</strong></h3>\n            </div>\n            <div class=\"panel-body\">\n              <form role=\"form\">\n                <div aria-label=\"input search text to get news\" class=\"form-group\">\n                  <label for=\"search\">Search Term:</label>\n                  <input type=\"text\" class=\"form-control\" id=\"searchTerm\" value={this.state.query} onChange={this.handleQueryChange} placeholder=\"Type a search term or simply hit Get Top News!\" />\n                </div>\n\n                <div aria-label=\"select number of articles to display\" class=\"form-group\">\n                  <label for=\"pwd\">Number of Articles to retrieve:</label>\n                  <select class=\"form-control\" id=\"numArticles\" onChange={this.handleNumChange}>\n                    <option value=\"1\">1</option>\n                    <option value=\"5\" selected>5</option>\n                    <option value=\"10\">10</option>\n                    <option value=\"15\">15</option>\n                    <option value=\"20\">20</option>\n                  </select>\n                </div>\n\n                <button aria-label=\"button to get data\" class=\"btn btn-primary\" id=\"runQuery\" onClick={this.handleClick} >Get Top News</button>\n                <button aria-label=\"button to clear news\" type=\"button\" class=\"btn btn-default\" id=\"clearAll\" onClick={this.handleClick}><i class=\"fa fa-trash\"></i> Clear Results</button>\n              </form>\n            </div>\n          </div>\n          <Results news={this.state.data} numArticles={this.state.numArticles} />\n      </div>\n    )\n  }\n}\n\n\n{/*The component displays the news in a formatted form. */}\nclass Results extends Component {\n\n  render() {\n    if (typeof this.props.news != \"undefined\") {\n      var response = this.props.news.slice(0, this.props.numArticles)\n      var newsArtics = response.map((newsArt, index) => <div><div id=\"article-data\">\n        <h2><span className=\"label label-primary\">{index + 1}</span><a href={newsArt.url}><strong>{newsArt.title}</strong></a></h2>\n        <div className='row justify-content-between' style={{margin:0}}>\n          <div aria-label=\"information about news\" className='col-sm-8'>\n            <h3> {newsArt.description}</h3>\n            <p><strong>Source:</strong> {newsArt.source.name}</p>\n            <p>{newsArt.content}</p>\n          </div>\n          <div aria-label=\"image for the news\" className=\"col-sm-4\">\n            <img src={newsArt.urlToImage} alt={newsArt.title} />\n          </div>\n        </div>\n      </div></div>\n      )\n    } else {\n      var newsArtics = []\n    }\n\n    return (\n      <div aria-hidden=\"true\">\n        <h1> Top News </h1>\n\n        {newsArtics}\n\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}